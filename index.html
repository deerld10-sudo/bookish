@@ -9,10 +9,11 @@
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --tg-bg: var(--tg-theme-bg-color, #1a1a1c);
            --tg-sec-bg: var(--tg-theme-secondary-bg-color, #2c2c2e);
            --tg-text: var(--tg-theme-text-color, #ffffff);
            --tg-hint: var(--tg-theme-hint-color, #8e8e93);
            /* Установлен фиксированный темный фон приложения */
            --tg-bg: #1A1A1C;
            --tg-sec-bg: #2c2c2e;
            --tg-text: #ffffff;
            --tg-hint: #8e8e93;
            --tg-accent: #85BC41; 

            /* Цвета шильдиков с 60% прозрачности */
@@ -73,9 +74,22 @@
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .hidden { display: none !important; }

        /* Полка */
        .book-shelf { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; max-width: 1200px; margin: 0 auto; }
        @media (min-width: 600px) { .book-shelf { grid-template-columns: repeat(4, 1fr); gap: 25px; } }
        /* Адаптивная полка */
        .book-shelf { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 20px; 
            max-width: 1400px; 
            margin: 0 auto; 
        }
        @media (min-width: 600px) { 
            .book-shelf { grid-template-columns: repeat(4, 1fr); gap: 25px; } 
        }
        @media (min-width: 1024px) { 
            .book-shelf { grid-template-columns: repeat(6, 1fr); gap: 25px; } 
        }

        .book-card { position: relative; cursor: pointer; transition: 0.2s; }
        .book-card:active { transform: scale(0.98); }
@@ -201,7 +215,7 @@
        .rating-slider { width: 100%; -webkit-appearance: none; height: 4px; background: var(--tg-sec-bg); border-radius: 2px; }
        .rating-slider::-webkit-slider-thumb { -webkit-appearance: none; width: 18px; height: 18px; background: var(--tg-accent); border-radius: 50%; cursor: pointer; }

        /* Унифицированный стиль всех кнопок в приложении */
        /* Унифицированный стиль всех кнопок */
        .btn-base {
            padding: 10px 6px; 
            border-radius: 8px; 
@@ -253,12 +267,10 @@
        .view-rating-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-size: 14px; }
        .view-rating-item span:first-child { color: var(--tg-hint); }

        /* --- МОБИЛЬНАЯ ВЕРСИЯ (АДАПТИВ) --- */
        /* Мобильная версия */
        @media (max-width: 600px) {
            .view-header-flex { flex-direction: column; align-items: center; text-align: center; }
            .view-book-side { flex-direction: column; align-items: center; }
            
            /* Кнопки иконками под обложкой */
            .view-actions-side { 
                flex-direction: row; 
                width: 100%; 
@@ -269,14 +281,19 @@
            .view-actions-side .btn-mini-action { width: 48px; height: 48px; border-radius: 50%; }
            .view-actions-side .btn-mini-action span { display: none; }
            .view-actions-side .btn-mini-action svg { width: 22px; height: 22px; }
            /* Кнопка "Свой вопрос" на весь экран */
            #add-custom-q-btn { width: 100%; border-radius: 8px; margin-bottom: 10px; }
        }

        /* PDF Styles */
        .pdf-export-mode { background-color: #ffffff !important; color: #000000 !important; }
        .pdf-export-mode .view-note { background-color: #ffffff !important; padding: 40px !important; }
        .pdf-export-mode h1, .pdf-export-mode h2, .pdf-export-mode .a { color: #000000 !important; }
        .pdf-export-mode .rating-badge {
            color: #000000 !important;
            border: 1px solid rgba(0,0,0,0.2) !important;
            background-color: rgba(0,0,0,0.05) !important;
            box-shadow: none !important;
        }
    </style>
</head>
<body>
@@ -388,7 +405,6 @@
        // ИКОНКИ
        const iconEdit = '<svg viewBox="0 0 512 511" xmlns="http://www.w3.org/2000/svg"><path d="m405.332031 256.484375c-11.796875 0-21.332031 9.558594-21.332031 21.332031v170.667969c0 11.753906-9.558594 21.332031-21.332031 21.332031h-298.667969c-11.777344 0-21.332031-9.578125-21.332031-21.332031v-298.667969c0-11.753906 9.554687-21.332031 21.332031-21.332031h170.667969c11.796875 0 21.332031-9.558594 21.332031-21.332031 0-11.777344-9.535156-21.335938-21.332031-21.335938h-170.667969c-35.285156 0-64 28.714844-64 64v298.667969c0 35.285156 28.714844 64 64 64h298.667969c35.285156 0 64-28.714844 64-64v-170.667969c0-11.796875-9.539063-21.332031-21.335938-21.332031zm0 0"></path><path d="m200.019531 237.050781c-1.492187 1.492188-2.496093 3.390625-2.921875 5.4375l-15.082031 75.4375c-.703125 3.496094.40625 7.101563 2.921875 9.640625 2.027344 2.027344 4.757812 3.113282 7.554688 3.113282.679687 0 1.386718-.0625 2.089843-.210938l75.414063-15.082031c2.089844-.429688 3.988281-1.429688 5.460937-2.925781l168.789063-168.789063-75.414063-75.410156zm0 0"></path><path d="m496.382812 16.101562c-20.796874-20.800781-54.632812-20.800781-75.414062 0l-29.523438 29.523438 75.414063 75.414062 29.523437-29.527343c10.070313-10.046875 15.617188-23.445313 15.617188-37.695313s-5.546875-27.648437-15.617188-37.714844zm0 0"></path></svg>';

        // НОВАЯ ИКОНКА СОХРАНЕНИЯ PDF
        const iconPdf = '<svg enable-background="new 0 0 515.283 515.283" viewBox="0 0 515.283 515.283" xmlns="http://www.w3.org/2000/svg"><g><path d="m400.775 515.283h-286.268c-30.584 0-59.339-11.911-80.968-33.54-21.628-21.626-33.539-50.382-33.539-80.968v-28.628c0-15.811 12.816-28.628 28.627-28.628s28.627 12.817 28.627 28.628v28.628c0 15.293 5.956 29.67 16.768 40.483 10.815 10.814 25.192 16.771 40.485 16.771h286.268c15.292 0 29.669-5.957 40.483-16.771 10.814-10.815 16.771-25.192 16.771-40.483v-28.628c0-15.811 12.816-28.628 28.626-28.628s28.628 12.817 28.628 28.628v28.628c0 30.584-11.911 59.338-33.54 80.968-21.629 21.629-50.384 33.54-80.968 33.54zm-143.134-114.509c-3.96 0-7.73-.804-11.16-2.257-3.2-1.352-6.207-3.316-8.838-5.885-.001-.001-.001-.002-.002-.002-.019-.018-.038-.037-.057-.056-.005-.004-.011-.011-.016-.016-.016-.014-.03-.029-.045-.044-.01-.01-.019-.018-.029-.029-.01-.01-.023-.023-.032-.031-.02-.02-.042-.042-.062-.062l-114.508-114.509c-11.179-11.179-11.179-29.305 0-40.485 11.179-11.179 29.306-11.18 40.485 0l65.638 65.638v-274.409c-.001-15.811 12.815-28.627 28.626-28.627s28.628 12.816 28.628 28.627v274.408l65.637-65.637c11.178-11.179 29.307-11.179 40.485 0 11.179 11.179 11.179 29.306 0 40.485l-114.508 114.507c-.02.02-.042.042-.062.062-.011.01-.023.023-.032.031-.01.011-.019.019-.029.029-.014.016-.03.03-.044.044-.005.005-.012.012-.017.016-.018.019-.037.038-.056.056-.001 0-.001.001-.002.002-.315.307-.634.605-.96.895-2.397 2.138-5.067 3.805-7.89 4.995-.01.004-.018.008-.028.012-.011.004-.02.01-.031.013-3.412 1.437-7.158 2.229-11.091 2.229z" fill="currentColor"></path></g></svg>';

        const iconTrash = '<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><g><path d="M62.205,150l26.569,320.735C90.678,493.865,110.38,512,133.598,512h244.805c23.218,0,42.92-18.135,44.824-41.265 L449.795,150H62.205z M180.986,452c-7.852,0-14.458-6.108-14.956-14.063l-15-242c-0.513-8.276,5.771-15.395,14.033-15.908 c8.569-0.601,15.381,5.757,15.908,14.033l15,242C196.502,444.632,189.721,452,180.986,452z M271,437c0,8.291-6.709,15-15,15 c-8.291,0-15-6.709-15-15V195c0-8.291,6.709-15,15-15s15,6.709,15,15V437z M360.97,195.938l-15,242 c-0.493,7.874-7.056,14.436-15.908,14.033c-8.262-0.513-14.546-7.632-14.033-15.908l15-242 c0.513-8.276,7.764-14.297,15.908-14.033C355.199,180.543,361.483,187.662,360.97,195.938z"></path></g><g><path d="M451,60h-90V45c0-24.814-20.186-45-45-45H196c-24.814,0-45,20.186-45,45v15H61c-16.569,0-30,13.431-30,30 c0,16.567,13.431,30,30,30c137.966,0,252.039,0,390,0c16.569,0,30-13.433,30-30C481,73.431,467.569,60,451,60z M331,60H181V45 c0-8.276,6.724-15,15-15h120c8.276,0,15,6.724,15,15V60z"></path></g></svg>';
0 commit comments
Comments
0
 (0)
Comment
You're not receiving notifications from this thread.
